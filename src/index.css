@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --app-height: 100vh;
    --safe-area-inset-top: env(safe-area-inset-top);
    --safe-area-inset-right: env(safe-area-inset-right);
    --safe-area-inset-bottom: env(safe-area-inset-bottom);
    --safe-area-inset-left: env(safe-area-inset-left);
}

@supports(height:100dvh) {
    :root {
        --app-height: 100dvh;
    }
}

html, body {
    height: var(--app-height);
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #F3F2EF;
}

#root {
    height: var(--app-height);
    width: 100%;
    overflow: hidden;
    background-color: inherit;
}

.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

.pb-safe {
    padding-bottom: calc(6rem + var(--safe-area-inset-bottom));
}

@supports (-webkit-appearance:none) {
    .h-screen-safe {
        height: var(--app-height) !important;
        min-height: var(--app-height) !important;
    }

    .pt-safe {
        padding-top: var(--safe-area-inset-top);
    }

    .pb-safe-bottom {
        padding-bottom: var(--safe-area-inset-bottom);
    }
}

* {
    -webkit-tap-highlight-color: transparent;
}

.animated-screen-container,
.animated-screen-container * {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    perspective: 1000px;
}

.animate-fade-in {
    animation: fadeIn .2s ease-out forwards;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-8px)
    }

    to {
        opacity: 1;
        transform: translateY(0)
    }
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0
    }

    to {
        transform: translateY(0);
        opacity: 1
    }
}

@keyframes slideDown {
    from {
        transform: translateY(0);
        opacity: 1
    }

    to {
        transform: translateY(100%);
        opacity: 0
    }
}

.cart-drawer-enter {
    animation: slideUp .3s ease-out forwards
}

.cart-drawer-exit {
    animation: slideDown .3s ease-out forwards
}

.focus-ring {
    transition: box-shadow .2s ease-in-out
}

    .focus-ring:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(173,138,119,.3)
    }

select {
    background-image: none !important;
    cursor: pointer
}

    select::-ms-expand {
        display: none
    }

    select option {
        background-color: #fff;
        color: #000;
        padding: 8px
    }

.dark select option, [data-theme="dark"] select option {
    background-color: #2A2A2A;
    color: #F5F5F5
}

div[class*="z-[9999]"], div[class*="z-[10000]"], .dropdown-container {
    z-index: 9999 !important
}

    div[class*="z-[10000]"] > div[class*="rounded-2xl"],
    div[class*="z-[9999]"] > div[class*="rounded"] {
        background-color: #FFFFFF !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }

.dark div[class*="z-[10000]"] > div[class*="rounded-2xl"],
[data-theme="dark"] div[class*="z-[10000]"] > div[class*="rounded-2xl"],
.dark div[class*="z-[9999]"] > div[class*="rounded"],
[data-theme="dark"] div[class*="z-[9999]"] > div[class*="rounded"] {
    background-color: #2A2A2A !important;
    color: #F5F5F5 !important;
}

.dropdown-container {
    background: inherit !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
}

.autocomplete-dropdown {
    background-color: var(--dropdown-bg,#FFFFFF) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border: 1px solid var(--dropdown-border,rgba(0,0,0,.12)) !important;
}

.cart-drawer {
    box-shadow: 0 -4px 20px rgba(0,0,0,.1);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

.sample-card {
    transition: all .2s cubic-bezier(.4,0,.2,1)
}

    .sample-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,.15)
    }

    .sample-card:active {
        transform: translateY(0);
        transition-duration: .1s
    }

.material-tab-container {
    position: relative;
    background: #fff;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,.05)
}

.material-tab {
    position: relative;
    padding: 12px 16px;
    font-weight: 600;
    font-size: .875rem;
    white-space: nowrap;
    transition: all .2s cubic-bezier(.4,0,.2,1);
    cursor: pointer;
    border: none;
    background: none;
    outline: none
}

    .material-tab:hover {
        background: rgba(0,0,0,.03)
    }

    .material-tab.active {
        color: var(--accent-color)
    }

.material-tab-underline {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 2px;
    background: var(--accent-color);
    transition: all .3s cubic-bezier(.4,0,.2,1);
    border-radius: 1px 1px 0 0
}

.set-button {
    flex: 1;
    padding: 12px 16px;
    border-radius: 16px;
    font-weight: 600;
    font-size: .875rem;
    transition: all .2s cubic-bezier(.4,0,.2,1);
    border: 1px solid;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    cursor: pointer;
    outline: none
}

    .set-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0,0,0,.1)
    }

    .set-button:active {
        transform: translateY(0);
        transition-duration: .1s
    }

    .set-button.selected {
        transform: scale(1.02);
        box-shadow: 0 6px 20px rgba(0,0,0,.15)
    }

.category-pill-container {
    position: relative;
    overflow: visible
}

.category-pill-indicator {
    position: absolute;
    transition: all .3s cubic-bezier(.4,0,.2,1);
    will-change: transform,width
}

/* Back-swipe UX helpers */
.animated-screen-container {
    overscroll-behavior: contain;
}

.gesture-lock {
    touch-action: none;
}

.animated-screen-container [data-screen="current"] {
    will-change: transform;
}

.animated-screen-container [data-screen="previous"] {
    pointer-events: none;
}
